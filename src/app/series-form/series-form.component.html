<div class="series-form-container" *ngIf="!loading; else loadingTpl">
    <h2>{{ editing ? 'Edit Series' : 'Add New Series' }}</h2>
  
    <form [formGroup]="form" (ngSubmit)="save()" class="series-form">
      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Series ID</mat-label>
        <input matInput formControlName="seriesId" [readonly]="editing" />
      </mat-form-field>
  
      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Name</mat-label>
        <input matInput formControlName="name" />
      </mat-form-field>
  
      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Description</mat-label>
        <input matInput formControlName="description" />
      </mat-form-field>
  
      <mat-form-field appearance="outline" class="half-width">
        <mat-label>Unit</mat-label>
        <input matInput formControlName="unit" />
      </mat-form-field>
  
      <mat-form-field appearance="outline" class="half-width">
        <mat-label>Color (Hex)</mat-label>
        <input matInput formControlName="color" type="text" />
      </mat-form-field>
  
      <div class="row">
        <mat-form-field appearance="outline" class="half-width">
          <mat-label>Min Value</mat-label>
          <input matInput type="number" formControlName="minValue" />
        </mat-form-field>
  
        <mat-form-field appearance="outline" class="half-width">
          <mat-label>Max Value</mat-label>
          <input matInput type="number" formControlName="maxValue" />
        </mat-form-field>
      </div>
  
      <div class="buttons">
        <button mat-flat-button color="primary" type="submit" [disabled]="loading">
          {{ editing ? 'Save Changes' : 'Create Series' }}
        </button>
  
        <button mat-stroked-button color="warn" type="button" (click)="cancel()">
          Cancel
        </button>
      </div>
    </form>
  </div>
  
  <ng-template #loadingTpl>
    <div class="loading">Loading...</div>
  </ng-template>